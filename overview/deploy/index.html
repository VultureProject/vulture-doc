<!DOCTYPE html>

<html class="writer-html5" lang="en">
<head>
<meta charset="utf-8"/>
<meta content="IE=edge" http-equiv="X-UA-Compatible"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/><link href="https://www.vultureproject.org/doc/overview/deploy/" rel="canonical"/>
<link href="../../img/favicon.ico" rel="shortcut icon"/>
<title>Deployment - VultureOS Documentation</title>
<link href="../../css/theme.css" rel="stylesheet"/>
<link href="../../css/theme_extra.css" rel="stylesheet"/>
<link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" rel="stylesheet"/>
<link href="../../css/styling.css" rel="stylesheet"/>
<script>
        // Current page data
        var mkdocs_page_name = "Deployment";
        var mkdocs_page_input_path = "overview/deploy.md";
        var mkdocs_page_url = "/doc/overview/deploy/";
      </script>
<!--[if lt IE 9]>
      <script src="../../js/html5shiv.min.js"></script>
    <![endif]-->
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
<script>hljs.highlightAll();</script>
</head>
<body class="wy-body-for-nav" role="document">
<div class="wy-grid-for-nav">
<nav class="wy-nav-side stickynav" data-toggle="wy-nav-shift">
<div class="wy-side-scroll">
<div class="wy-side-nav-search">
<a class="icon icon-home" href="../.."> VultureOS Documentation
        </a>
</div>
<div aria-label="Navigation menu" class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation">
<ul>
<li class="toctree-l1"><a class="reference internal" href="../..">Home</a>
</li>
</ul>
<p class="caption"><span class="caption-text">Overview</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../packaging/">Packaging</a>
</li>
<li class="toctree-l1 current"><a class="reference internal current" href="./">Deployment</a>
<ul class="current">
<li class="toctree-l2"><a class="reference internal" href="#prerequisites">Prerequisites</a>
<ul>
<li class="toctree-l3"><a class="reference internal" href="#installation-on-virtual-machine">Installation on virtual machine</a>
</li>
<li class="toctree-l3"><a class="reference internal" href="#installation-on-physical-server">Installation on physical server</a>
<ul>
<li class="toctree-l4"><a class="reference internal" href="#prerequisites_1">Prerequisites</a>
</li>
<li class="toctree-l4"><a class="reference internal" href="#step-1-base-system-configuration">Step 1 : Base system configuration</a>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#automatic-configuration-and-bootstraping-via-cloud-init">Automatic - Configuration and bootstraping via Cloud Init</a>
</li>
<li class="toctree-l2"><a class="reference internal" href="#vulture-bootstrap-initial-configuration">Vulture bootstrap - Initial Configuration</a>
</li>
<li class="toctree-l2"><a class="reference internal" href="#manual-bootstraping">Manual - Bootstraping</a>
<ul>
<li class="toctree-l3"><a class="reference internal" href="#if-you-want-to-initialize-a-new-vulture-cluster">If you want to initialize a new Vulture cluster</a>
</li>
<li class="toctree-l3"><a class="reference internal" href="#if-you-want-to-add-a-new-node-to-an-existing-vulture-cluster">If you want to add a new node to an existing Vulture cluster</a>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../quickstart/">Quick start</a>
</li>
</ul>
<p class="caption"><span class="caption-text">Global Config</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../global_config/stats/">Status Page</a>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../global_config/cluster/">Cluster settings</a>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../global_config/node/">Nodes</a>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../global_config/tenant/">Multi-Tenants</a>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../global_config/network/">Network Interfaces</a>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../global_config/users/">Users</a>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../global_config/pki/">X509 Certificates</a>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../global_config/tls/">TLS Profiles</a>
</li>
</ul>
<p class="caption"><span class="caption-text">Services</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../services/listener/">Frontend listeners</a>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../services/ipsec_client/">IPSEC Client</a>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../services/vpnssl_client/">VPNSSL Client</a>
</li>
</ul>
<p class="caption"><span class="caption-text">Identity Providers</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../identity/repository/">The repository concept</a>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../identity/ldap/">LDAP</a>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../identity/kerberos/">Kerberos</a>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../identity/radius/">Radius</a>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../identity/mfa/">MFA &amp; OTP</a>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../identity/totp/">Time-based OTP Profiles</a>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../identity/openid/">OpenID Federation</a>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../identity/scopes/">User's Scope</a>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../identity/sso_profiles/">SSO Profiles</a>
</li>
</ul>
<p class="caption"><span class="caption-text">Authentication Portal</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../portal/portal/">Portal</a>
</li>
</ul>
<p class="caption"><span class="caption-text">Applications</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../applications/logs_forwarder/">Log Forwarders</a>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../applications/backend/">Backend servers</a>
</li>
</ul>
<p class="caption"><span class="caption-text">API</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../api/">Swagger</a>
</li>
</ul>
</div>
</div>
</nav>
<section class="wy-nav-content-wrap" data-toggle="wy-nav-shift">
<nav aria-label="Mobile navigation menu" class="wy-nav-top" role="navigation">
<i class="fa fa-bars" data-toggle="wy-nav-top"></i>
<a href="../..">VultureOS Documentation</a>
</nav>
<div class="wy-nav-content">
<div class="rst-content"><div aria-label="breadcrumbs navigation" role="navigation">
<ul class="wy-breadcrumbs">
<li><a aria-label="Docs" class="icon icon-home" href="../.."></a></li>
<li class="breadcrumb-item">Overview</li>
<li class="breadcrumb-item active">Deployment</li>
<li class="wy-breadcrumbs-aside">
</li>
</ul>
<hr/>
</div>
<div class="document" itemscope="itemscope" itemtype="http://schema.org/Article" role="main">
<div class="section" itemprop="articleBody">
<h1 id="deployment-guidelines">Deployment guidelines</h1>
<h2 id="prerequisites">Prerequisites</h2>
<ul>
<li>Modern CPU with 2 cores</li>
<li>4Gb of RAM</li>
<li>Default Vulture image uses 10Gb of RAM - adjust to the storage you needs for logs</li>
</ul>
<h3 id="installation-on-virtual-machine">Installation on virtual machine</h3>
<p>You can download <strong>amd64</strong> Vulture's disk images from <a href="https://hbsd.vultureproject.org/amd64/current/13-stable/BUILD-LATEST/">The VultureProject Mirror</a>.</p>
<p>Once you have downloaded the appropriate disk image you need to create a Virtual Machine using this disk. Feel free to increase the disk size as the default may not suits your needs. Once started, Vulture will automatically launch growfs to extend the filesystem to the new disk size.</p>
<h3 id="installation-on-physical-server">Installation on physical server</h3>
<p><strong>Note :</strong> VultureOS requires a ZFS root volume. The zpool is supposed to be named 'zroot'.</p>
<h4 id="prerequisites_1">Prerequisites</h4>
<p>Please download the vultureOS installer from the VultureProject Mirror:</p>
<ul>
<li><a href="https://hbsd.vultureproject.org/amd64/current/13-stable/BUILD-LATEST/Vulture-disc1.iso">Vulture-disc1.iso</a></li>
</ul>
<h4 id="step-1-base-system-configuration">Step 1 : Base system configuration</h4>
<p>Boot and install the OS by following the installation wizard (See FreeBSD doc, if needed).
At the end of the installation, select "<strong>Install</strong>" at the prompt.
All the system will be initialized and ready to fire up Vulture.</p>
<p><strong>Note :</strong> Cloud-init is disabled by default in config.txt, set it to "YES" if needed</p>
<p>After the script completion, ** you need to reboot the system **</p>
<p>At this point, Vulture should be fully installed and ready for bootstrap (See below).</p>
<h2 id="automatic-configuration-and-bootstraping-via-cloud-init">Automatic - Configuration and bootstraping via Cloud Init</h2>
<p>Vulture may be started and automatically configured via Cloud Init.
Vulture virtual machine have Cloud-init enabled by default. For physical installation, it is disabled by default and can be enable by modifying config.txt (see above).</p>
<h2 id="vulture-bootstrap-initial-configuration">Vulture bootstrap - Initial Configuration</h2>
<p>Once installed, Vulture needs to be bootstraped.</p>
<p>One logged as <code>vlt-adm</code>, you can type the <code>admin</code> command to access the following menu :</p>
<ul>
<li><code>Keymap</code> : Configure keymap, like during installation of FreeBSD,</li>
<li><code>Time</code> : Configure timezone and ntp server,</li>
<li><code>Password</code> : Change vlt-adm password,</li>
<li><code>Geli Change</code> : Change the ZFS disk encryption password,</li>
<li><code>Email</code> : Define the administration SMTP Email address,</li>
<li><code>Network IPs</code> : Modify current management IP used to bind services,</li>
<li><code>Proxy</code> : Configure proxy,</li>
<li><code>Netconfig</code> : Manage network configuration, like during installation of FreeBSD,</li>
<li><code>Hostname</code> : Configure hostname,</li>
<li><code>Shell</code> : Launch a CSH shell as vlt-adm,</li>
<li><code>RootShell</code> : Launch a CSH shell as root,</li>
<li><code>Update</code> : Update system and jails, with pkg and hardenedbsd-update,</li>
<li><code>Exit</code> : Exit admin menu.</li>
</ul>
<p><strong>Mandatory steps are :</strong></p>
<ol>
<li>Adjust <code>Time</code></li>
<li>Set <code>Network IPs</code></li>
<li>Set the <code>Hostname</code></li>
</ol>
<p>Once done, Vulture's internal database will be ready and the required processes will be started.</p>
<h2 id="manual-bootstraping">Manual - Bootstraping</h2>
<p>Depending on what you want do to, you have 2 scripts available :
 - <code>/home/vlt-adm/gui/cluster_create.sh</code> : To create a new <strong>Master</strong> node
 - <code>/home/vlt-adm/gui/cluster_join.sh</code> : To create a <strong>Slave</strong> node and join an existing cluster</p>
<h4 id="if-you-want-to-initialize-a-new-vulture-cluster">If you want to initialize a new Vulture cluster</h4>
<pre><code>sudo /home/vlt-adm/gui/cluster_create.sh &lt;admin_user&gt; &lt;admin_password&gt;
sudo service vultured start
</code></pre>
<p><code>admin_user</code> will be the login required to access the web GUI.
<code>admin_password</code> will be the password required to access the web GUI.</p>
<h3 id="if-you-want-to-add-a-new-node-to-an-existing-vulture-cluster">If you want to add a new node to an existing Vulture cluster</h3>
<p>Before</p>
<pre><code>sudo  /home/vlt-adm/gui/cluster_join.sh &lt;master_hostname&gt; &lt;master_ip&gt; &lt;secret_key&gt;
sudo service vultured start
</code></pre>
<p><code>master_hostname</code> is the name of the Vulture's master node.
<code>master_ip</code>  is the IP address of the Vulture's master node.
<code>secret_key</code> is the secret key of the node.</p>
</div>
</div><footer>
<div aria-label="Footer Navigation" class="rst-footer-buttons" role="navigation">
<a class="btn btn-neutral float-left" href="../packaging/" title="Packaging"><span class="icon icon-circle-arrow-left"></span> Previous</a>
<a class="btn btn-neutral float-right" href="../quickstart/" title="Quick start">Next <span class="icon icon-circle-arrow-right"></span></a>
</div>
<hr/>
<div role="contentinfo">
<!-- Copyright etc -->
</div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
</div>
</div>
</section>
</div>
<div aria-label="Versions" class="rst-versions" role="note">
<span class="rst-current-version" data-toggle="rst-current-version">
<span><a href="../packaging/" style="color: #fcfcfc">« Previous</a></span>
<span><a href="../quickstart/" style="color: #fcfcfc">Next »</a></span>
</span>
</div>
<script src="../../js/jquery-3.6.0.min.js"></script>
<script>var base_url = "../..";</script>
<script src="../../js/theme_extra.js"></script>
<script src="../../js/theme.js"></script>
<script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script>
<script>
            window.update_swagger_ui_iframe_height = function (id) {
                var iFrameID = document.getElementById(id);
                if (iFrameID) {
                    full_height = (iFrameID.contentWindow.document.body.scrollHeight + 80) + "px";
                    iFrameID.height = full_height;
                    iFrameID.style.height = full_height;
                }
            }
        
            let iframe_id_list = []
            var iframes = document.getElementsByClassName("swagger-ui-iframe");
            for (var i = 0; i < iframes.length; i++) { 
                iframe_id_list.push(iframes[i].getAttribute("id"))
            }
        
            let ticking = true;
            
            document.addEventListener('scroll', function(e) {
                if (!ticking) {
                    window.requestAnimationFrame(()=> {
                        let half_vh = window.innerHeight/2;
                        for(var i = 0; i < iframe_id_list.length; i++) {
                            let element = document.getElementById(iframe_id_list[i])
                            if(element==null){
                                return
                            }
                            let diff = element.getBoundingClientRect().top
                            if(element.contentWindow.update_top_val){
                                element.contentWindow.update_top_val(half_vh - diff)
                            }
                        }
                        ticking = false;
                    });
                    ticking = true;
                }
            });
        </script></body>
</html>
